# Upsun configuration, generated using AI at: 2026-01-15T15:52:32+01:00
# AI can make mistakes. Please modify this file to suit your needs.
applications:
    app:
        type: php:8.5

        build:
            flavor: none

        hooks:
            build: |
                set -ex
                curl -sfS https://get.symfony.com/cloud/configurator | bash
                symfony-build

            deploy: |
                set -ex
                symfony-deploy

        web:
            locations:
                /:
                    root: public
                    passthru: /index.php
                    expires: 5m

        runtime:
            extensions:
                - pdo_pgsql
                - apcu
                - mbstring
                - sodium

        relationships:
            database: {}

        mounts:
            var/cache:
                source: tmp
            var/log:
                source: storage

        variables:
            php:
                opcache.preload: config/preload.php

services:
    database:
        type: postgresql:18
